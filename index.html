<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>ABADDON â€” RITUAL CONVERTER</title>

  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css?v=11">
  <link rel="icon" href="favicon.png">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <!-- ðŸ”¥ MINI CSS layout -->
  <style>
    .format-row{
      display:flex;
      gap:12px;
      justify-content:center;
      margin-bottom:10px;
      align-items:center;
    }

    .format-row select{
      background:#0b0b0b;
      border:1px solid #ff0000;
      color:#fff;
      padding:8px 14px;
      font-family:VT323;
      font-size:22px;
    }

    .arrow{
      color:#ff0000;
      font-size:26px;
    }

    .upload-box{
      display:flex;
      gap:10px;
      justify-content:center;
      margin-top:10px;
    }

    .upload-box button{
      background:#0b0b0b;
      border:1px solid #ff0000;
      color:#fff;
      padding:10px 18px;
      font-family:VT323;
      font-size:20px;
      cursor:pointer;
    }

    #convertBtn:disabled{
      opacity:.4;
      cursor:not-allowed;
    }

    /* ðŸ”Š volume button */
    #volumeBtn{
      position:fixed;
      top:18px;
      left:18px;
      font-size:26px;
      cursor:pointer;
      z-index:9999;
      color:#ff0000;
      text-shadow:0 0 8px red;
      transition:.2s;
      user-select:none;
    }

    #volumeBtn:hover{
      transform:scale(1.2);
      text-shadow:0 0 15px red;
    }
  </style>

</head>

<body>

<!-- ðŸ”Š VOLUME BUTTON -->
<div id="volumeBtn">ðŸ”‡</div>

<canvas id="occultCanvas"></canvas>
<canvas id="grain"></canvas>
<audio id="amb" src="ambient.mp3" loop></audio>

<div id="loader">
  <h1 class="blink">ABADDON</h1>
  <p>descending into inferno...</p>
</div>

<div class="warning blink">
  WARNING: THIS SITE IS NOT INDEXED â€¢ ACCESS LOGGED
</div>

<div class="container ritual">

  <div class="logo-wrap">
    <img class="logo" src="logo.png" onload="hideLoader()">
    <div id="lore"></div>

    <div class="smoke">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <h1 class="title blink">ABADDON</h1>
  <p class="subtitle">image transmutation ritual</p>

  <div class="format-row">

    <select id="fromFormat">
      <option value="">DE</option>
      <option value="png">PNG</option>
      <option value="jpg">JPG</option>
      <option value="webp">WEBP</option>
      <option value="bmp">BMP</option>
    </select>

    <span class="arrow">â†’</span>

    <select id="toFormat">
      <option value="">PARA</option>
      <option value="png">PNG</option>
      <option value="jpg">JPG</option>
      <option value="webp">WEBP</option>
      <option value="bmp">BMP</option>
    </select>

  </div>

  <input type="range" id="resize" min="20" max="100" value="100">

  <div class="upload-box">

    <input 
      type="file" 
      id="fileInput" 
      accept="image/png,image/jpeg,image/webp,image/bmp" 
      multiple
      hidden
    >

    <button id="importBtn">IMPORTAR</button>
    <button id="convertBtn" onclick="convert()" disabled>CONVERT</button>

  </div>

  <div id="result"></div>
  <div id="logs"></div>

  <div class="counter">
    VISITORS: <span id="counter">000666</span>
  </div>

  <div class="creator">
    <p>From: <span>$ublime</span></p>
    <p class="pay">PIX: vinikleine90843@hotmail.com</p>
  </div>

  <div class="blood"></div>

</div>

<script src="script.js"></script>

<!-- ðŸ”¥ INLINE LOGIC -->
<script>

function hideLoader(){
  const l=document.getElementById("loader")
  if(l) l.style.display="none"
}

/* ===== enable convert ===== */
const fileInput = document.getElementById("fileInput")
const importBtn = document.getElementById("importBtn")
const convertBtn = document.getElementById("convertBtn")
const fromFormat = document.getElementById("fromFormat")
const toFormat = document.getElementById("toFormat")

let filesSelected = false

importBtn.onclick = () => fileInput.click()

fileInput.onchange = () => {
  filesSelected = fileInput.files.length > 0
  checkReady()
}

fromFormat.onchange = checkReady
toFormat.onchange = checkReady

function checkReady(){
  if(filesSelected && fromFormat.value && toFormat.value && fromFormat.value !== toFormat.value){
    convertBtn.disabled = false
  }else{
    convertBtn.disabled = true
  }
}

/* ===== audio control ===== */
const amb=document.getElementById("amb")
const volumeBtn=document.getElementById("volumeBtn")

let playing=false

volumeBtn.onclick=async()=>{
  if(!playing){
    amb.volume=.18
    await amb.play()
    volumeBtn.textContent="ðŸ”Š"
    playing=true
  }else{
    amb.pause()
    volumeBtn.textContent="ðŸ”‡"
    playing=false
  }
}

</script>

</body>
</html>
